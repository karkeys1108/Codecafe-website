# Render Configuration
services:
  - type: web
    name: codecafe
    env: static
    buildCommand: npm install && npm run build
    staticPublishPath: "./dist"
    routes:
      - type: rewrite
        source: "/*"
        destination: "/index.html"
    envVars:
      - key: NODE_VERSION
        value: 18.x
      - key: VITE_BASE_URL
        value: "/"

# Redirects
redirects:
  - from: "www.codecafe.live"
    to: "codecafe.live"
    status: 301
  - from: "https://codecafe-qf8e.onrender.com/terms-of-service"
    to: "https://codecafe-qf8e.onrender.com/terms-of-service/"
    status: 301
